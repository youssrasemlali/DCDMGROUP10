---
title: "clean_impc_parameters"
format: html
---

```{r}

#Loading relevant libraries#
library(tidyr)
library(dplyr)
library(readr)
library(data.table)

getwd()

# Loading in data#
impc_para <- "/Users/youssrasemlali/Desktop/DCDMGROUP10/Group10/IMPC_parameter_description.txt"
parameter_df <- read_csv(impc_para, show_col_types = FALSE)
parameter_df <- read_csv(impc_para)

#Checking structure
glimpse(parameter_df)

```



```{r}
# Remove duplicate rows
parameter_df_clean <- distinct(parameter_df)

# Remove rows that are entirely NA
parameter_df_clean <- parameter_df_clean %>%
  filter(!if_all(everything(), is.na))

# Check for remaining duplicates by impcParameterOrigId
dup_ids <- parameter_df_clean %>%
  count(impcParameterOrigId) %>%
  filter(n > 1)

print("Duplicate impcParameterOrigId values:")
print(dup_ids)

```

```{r}

#Summary statsitics#
cat("Original dimensions:", dim(parameter_df), "\n")
cat("Cleaned dimensions:", dim(parameter_df_clean), "\n")

#Counts unique values in each column#
unique_counts <- sapply(parameter_df_clean, function(x) length(unique(x)))
print(unique_counts)

setnames(parameter_df_clean, "impcParameterOrigId", "impc_parameter_id")

#Saving new cleaned version to CSV#
write_csv(parameter_df_clean,
           "/Users/youssrasemlali/Desktop/DCDMGROUP10/Group10/IMPC_parameter_description_clean.csv")

```

